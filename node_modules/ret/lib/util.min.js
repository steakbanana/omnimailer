var types=require("./types");var sets=require("./sets");var CTRL="@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\]^ ?";var SLSH={"0":0,t:9,n:10,v:11,f:12,r:13};exports.strToChars=function(b){var a=/(\[\\b\])|(\\)?\\(?:u([A-F0-9]{4})|x([A-F0-9]{2})|(0?[0-7]{2})|c([@A-Z\[\\\]\^?])|([0tnvfr]))/g;b=b.replace(a,function(m,k,h,j,l,e,g,f){if(h){return m}var d=k?8:j?parseInt(j,16):l?parseInt(l,16):e?parseInt(e,8):g?CTRL.indexOf(g):SLSH[f];var i=String.fromCharCode(d);if(/[\[\]{}\^$.|?*+()]/.test(i)){i="\\"+i}return i});return b};exports.tokenizeClass=function(f,b){var e=[];var d=/\\(?:(w)|(d)|(s)|(W)|(D)|(S))|((?:(?:\\)(.)|([^\]\\]))-(?:\\)?([^\]]))|(\])|(?:\\)?(.)/g;var a,g;while((a=d.exec(f))!=null){if(a[1]){e.push(sets.words())}else{if(a[2]){e.push(sets.ints())}else{if(a[3]){e.push(sets.whitespace())}else{if(a[4]){e.push(sets.notWords())}else{if(a[5]){e.push(sets.notInts())}else{if(a[6]){e.push(sets.notWhitespace())}else{if(a[7]){e.push({type:types.RANGE,from:(a[8]||a[9]).charCodeAt(0),to:a[10].charCodeAt(0)})}else{if(g=a[12]){e.push({type:types.CHAR,value:g.charCodeAt(0)})}else{return[e,d.lastIndex]}}}}}}}}}exports.error(b,"Unterminated character class")};exports.error=function(a,b){throw new SyntaxError("Invalid regular expression: /"+a+"/: "+b)};